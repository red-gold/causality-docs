<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | causal-net</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-pure-min.css"><link rel="stylesheet" href="./inject/css/0-causal-style.css"><script src="./inject/script/0-jquery-3.3.1.min.js"></script><script src="./inject/script/0-run_examples.js"></script></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="v-seperate"></div>
  <ul class="demo">
    <li>
        <a href="prebuilt-demos/representation.html">Sentence representation demo</a>
    </li>
  </ul>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/introduction.html"><a href="manual/introduction.html" data-ice="link">Introduction</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#pipeline" data-ice="link">Pipeline</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#project-module-view" data-ice="link">Project module view</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/packages.html"><a href="manual/packages.html" data-ice="link">Monorepo</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-core" data-ice="link">causal-net.core</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetcore" data-ice="link">causalNetCore</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#tensor" data-ice="link">Tensor</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#function" data-ice="link">Function</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#store" data-ice="link">Store</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-log" data-ice="link">causal-net.log</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#termlogger" data-ice="link">termLogger</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#loggermixins" data-ice="link">LoggerMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-preprocessing" data-ice="link">causal-net.preprocessing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#nlppreprocessing" data-ice="link">nlpPreprocessing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#imagepreprocessing" data-ice="link">imagePreprocessing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#preprocessingmixins" data-ice="link">PreprocessingMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-representation" data-ice="link">causal-net.representation</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetembedding" data-ice="link">causalNetEmbedding</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#universalembedding" data-ice="link">universalEmbedding</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#representationmixins" data-ice="link">RepresentationMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-sampling" data-ice="link">causal-net.sampling</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetsampling" data-ice="link">causalNetSampling</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#samplingmixins" data-ice="link">SamplingMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-models" data-ice="link">causal-net.models</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetmodels" data-ice="link">causalNetModels</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#supervisedmodelsmixins" data-ice="link">SupervisedModelsMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-layer" data-ice="link">causal-net.layer</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetsgdoptimizer" data-ice="link">causalNetSGDOptimizer</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#trainermixins" data-ice="link">TrainerMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-optimizers" data-ice="link">causal-net.optimizers</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetsgdoptimizer" data-ice="link">causalNetSGDOptimizer</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#trainermixins" data-ice="link">TrainerMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-memcache" data-ice="link">causal-net.memcache</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#memdowncache" data-ice="link">memDownCache</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#memcachemixins" data-ice="link">MemCacheMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-storage" data-ice="link">causal-net.storage</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#indexdbstorage" data-ice="link">indexDBStorage</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#storagemixins" data-ice="link">StorageMixins</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#csvfilemixins" data-ice="link">CSVFileMixins</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#pngfilemixins" data-ice="link">PNGFileMixins</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#textfilemixins" data-ice="link">TextFileMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-utils" data-ice="link">causal-net.utils</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#platform" data-ice="link">platform</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#fetch" data-ice="link">fetch</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#png" data-ice="link">PNG</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#csv" data-ice="link">CSV</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#stream" data-ice="link">Stream</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#assert" data-ice="link">assert</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/streamProcessingText8.babel.node.js.html"><a href="manual/streamProcessingText8.babel.node.js.html" data-ice="link">Tutorials</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/streamProcessingText8.babel.node.js.html"><a href="manual/streamProcessingText8.babel.node.js.html#stream-processing-with-text8-data" data-ice="link">Stream processing with text8 data</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><h1 id="monorepo">Monorepo</h1><p>Causality provides sub-package plugins for build up pipeline as follows:</p>
<h2 id="causal-net-core">causal-net.core</h2><p>This package provides:</p>
<h3 id="causalnetcore">causalNetCore</h3><ul>
<li>Allow acess to core function and core tensor instance.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { causalNetCore } from &apos;causal-net.core&apos;;
console.log(causalNetCore.CoreTensor);
console.log(causalNetCore.CoreFunctor);
</code>
</code></pre>
<p><a href="./manual/./asset/examples/core.babel.js">Run code</a></p>
<h3 id="tensor">Tensor</h3><ul>
<li>Primitive class for composing Tensor based class. This class is based on <a href="https://js.tensorflow.org/">tensorflowjs</a></li>
</ul>
<h3 id="function">Function</h3><ul>
<li>Primitive class for composing Function based class. This class is based on <a href="https://ramdajs.com/">Ramda</a></li>
</ul>
<h3 id="store">Store</h3><ul>
<li>Primivtive class for composing Store base class. This class is based on <a href="https://www.npmjs.com/package/levelup">levelup</a></li>
</ul>
<h2 id="causal-net-log">causal-net.log</h2><p>This causal-net.log is a sub-module for <a href="https://red-gold.github.io/causality-docs/">causality</a> project.
This module provide log instance and sampling mixins</p>
<h3 id="termlogger">termLogger</h3><ul>
<li>Provide isomomorphic logger instance to replace console.log.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { termLogger } from &apos;causal-net.log&apos;;

termLogger.log(&apos;this is text&apos;);
termLogger.log({&apos;name&apos;:&apos;this is text&apos;});

termLogger.log({&apos;father&apos;:{&apos;name&apos;:&apos;this is text&apos;,&apos;alias&apos;:&apos;this is another text&apos;}});
termLogger.log({&apos;father&apos;:{&apos;name&apos;:{sub:&apos;this is text&apos;},&apos;alias&apos;:&apos;this is another text&apos;}});
termLogger.log({&apos;array&apos;:[0,1,2,3,4]});
termLogger.log({&apos;array&apos;:[{a:0}, {b:1}, {c:2},  {d:4},  {e:6}]});

termLogger.Level = &apos;debug&apos;;
console.log(termLogger.Level);
termLogger.log({&apos;not to show&apos;: true});
termLogger.Level = &apos;log&apos;;
console.log(termLogger.Level);

termLogger.progressBegin(5);
for(let i of [1,2,3,4,5]){
    termLogger.progressUpdate({current: i});
}
termLogger.progressEnd();

termLogger.groupBegin(&apos;group A&apos;);
termLogger.groupBegin(&apos;group B&apos;);
termLogger.groupBegin(&apos;group C&apos;);
termLogger.groupEnd();
termLogger.groupEnd();
termLogger.groupEnd();

</code>
</code></pre>
<p><a href="./manual/./asset/examples/log.babel.js">Run code</a></p>
<h3 id="loggermixins">LoggerMixins</h3><ul>
<li>Mixins function for mix with the main class to acquire logger.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { LoggerMixins, termLogger, BaseLogger } from &apos;causal-net.log&apos;;
import { platform } from &apos;causal-net.utils&apos;;
import { Tensor } from &apos;causal-net.core&apos;;

class SimplePipeline extends platform.mixWith(Tensor, [LoggerMixins]){
    constructor(){
        super();
        this.Logger = termLogger;
    }
}
let pipeline = new SimplePipeline();
console.log(pipeline.Logger instanceof BaseLogger);</code>
</code></pre>
<p><a href="./manual/./asset/examples/logger.mixins.babel.js">Run code</a></p>
<h2 id="causal-net-preprocessing">causal-net.preprocessing</h2><p>This causal-net.preprocessing is a sub-module for <a href="https://red-gold.github.io/causality-docs/">causality</a> project.
This module provide preprocessing instances and preprocessing mixins</p>
<h3 id="nlppreprocessing">nlpPreprocessing</h3><ul>
<li>Provide methods for text processing: tokenize, filter, count word frequency.</li>
</ul>
<h3 id="imagepreprocessing">imagePreprocessing</h3><ul>
<li>Provide method for image processing: split, transform color</li>
</ul>
<h3 id="preprocessingmixins">PreprocessingMixins</h3><ul>
<li>Mixins for mix with Pipeline class or dataset class.</li>
</ul>
<h2 id="causal-net-representation">causal-net.representation</h2><p>This module provide representation instances and representation mixins</p>
<h3 id="causalnetembedding">causalNetEmbedding</h3><ul>
<li>Provide methods for transforming tokens or representing sentence into single vector.</li>
</ul>
<p>Node</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { causalNetEmbedding } from &apos;causal-net.representation&apos;;
import { termLogger } from &apos;causal-net.log&apos;;
(async ()=&gt;{
    const configLink = &apos;../../datasets/WordVec_EN/&apos;;
    await causalNetEmbedding.connect(configLink, true);
    //first time transform will find on storage cache
    let vecs = await causalNetEmbedding.transform([&apos;this&apos;, &apos;is&apos;, &apos;test&apos;]);
    for(let vec of vecs){
        termLogger.log({ vec });
    }
    //second time transform will find on memory cache
    vecs = await causalNetEmbedding.transform([&apos;this&apos;, &apos;is&apos;, &apos;test&apos;]);
    for(let vec of vecs){
        termLogger.log({ vec });
    }
    //return the tensor representing sentence
    let sentVec = await causalNetEmbedding.sentenceEncode([ [&apos;this&apos;, &apos;is&apos;, &apos;test&apos;] ]);
    sentVec.print();
})().catch(err=&gt;{
    console.error(err);
});</code>
</code></pre>
<p><a href="./manual/./asset/examples/causalNetEmbedding.babel.node.js">Run code</a></p>
<h3 id="universalembedding">universalEmbedding</h3><ul>
<li>Provide methods for transforming tokens or representing sentence into single vector based <a href="https://github.com/tensorflow/tfjs-models/tree/master/universal-sentence-encoder">use</a></li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { universalEmbedding, Log } from &apos;causal-net.representation&apos;;
import { termLogger } from &apos;causal-net.log&apos;;
(async ()=&gt;{
    // termLogger.groupBegin();
    await universalEmbedding.connect();
    // termLogger.groupEnd();
    let sentVec = await universalEmbedding.sentenceEncode([ &apos;this is test&apos; ])
    sentVec.print();
})();</code>
</code></pre>
<p><a href="./manual/./asset/examples/universalEmbedding.babel.js">Run code</a></p>
<h3 id="representationmixins">RepresentationMixins</h3><ul>
<li>Mixins for mix with Pipeline class or dataset class.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { RepresentationMixins, causalNetEmbedding } from &apos;causal-net.representation&apos;;
import { platform } from &apos;causal-net.utils&apos;;
import { Tensor } from &apos;causal-net.core&apos;;
const PipeLineConfigure = {
    Representation: {
        Embedding: causalNetEmbedding,
        EmbeddingConfig: &apos;../../datasets/WordVec_EN/&apos;,
    }
}
class SimplePipeline extends platform.mixWith(Tensor, [RepresentationMixins]){
    constructor(configure){
        super();
        this.setRepresentationByConfig(configure);
    }
}
let pipeline = new SimplePipeline(PipeLineConfigure);
pipeline.connect();
console.log(pipeline.Representation);</code>
</code></pre>
<p><a href="./manual/./asset/examples/embeddingMixins.babel.node.js">Run code</a></p>
<h2 id="causal-net-sampling">causal-net.sampling</h2><p>This causal-net.sampling is a sub-module for <a href="https://red-gold.github.io/causality-docs/">causality</a> project.
This module provide sampling instance and sampling mixins</p>
<h3 id="causalnetsampling">causalNetSampling</h3><ul>
<li>Provide sampling instance with various sampling methods.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { causalNetSampling } from &apos;causal-net.sampling&apos;;
import {termLogger as Logger} from &apos;causal-net.log&apos;;
let numSamples = 4;
let idSize = 10;//id list: [0,1,2,3,4,5,6,7,8,9]
Logger.log(causalNetSampling.subSampling(numSamples, idSize));

numSamples = 4;
let positiveSampleId = [0, 1];
//ids: [0, 1, 2, 3];
let probIds = [0.9, 0.9, 0.3, 0.7];
let samples = causalNetSampling.negSampling(numSamples, positiveSampleId, probIds);
termLogger.log({ samples });</code>
</code></pre>
<p><a href="./manual/./asset/examples/causalNetSampling.babel.js">Run code</a></p>
<h3 id="samplingmixins">SamplingMixins</h3><ul>
<li>Mixins Mixins for mix with Pipeline class or dataset class.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { SamplingMixins, causalNetSampling } from &apos;causal-net.sampling&apos;;
import { Platform } from &apos;causal-net.utils&apos;;
import { Tensor, Function } from &apos;causal-net.core&apos;;
console.log(causalNetSampling instanceof Function);
class SimplePipeline extends Platform.mixWith(Tensor, [SamplingMixins]){
    constructor(){
        super();
        this.Sampling = causalNetSampling;
    }
}
let pipeline = new SimplePipeline();
console.log(pipeline.Sampling);</code>
</code></pre>
<p><a href="./manual/./asset/examples/sampling.mixins.babel.js">Run code</a></p>
<h2 id="causal-net-models">causal-net.models</h2><h3 id="causalnetmodels">causalNetModels</h3><ul>
<li>causalNetModels provides common used models: </li>
</ul>
<p>Classification models
[EXAMPLE  ERROR! /home/huynhnguyen/github/causality/packages/causality-models/DESCRIPTION.md, /home/huynhnguyen/github/causality/packages/causality-models/examples/classification.babel.js]</p>
<h3 id="supervisedmodelsmixins">SupervisedModelsMixins</h3><ul>
<li>Mixins for mix with Pipeline class for supervised models.</li>
</ul>
<h2 id="causal-net-layer">causal-net.layer</h2><p>This module provides:</p>
<h3 id="causalnetsgdoptimizer">causalNetSGDOptimizer</h3><ul>
<li>Provide SGD optimizing methods: adam
[EXAMPLE  ERROR! /home/huynhnguyen/github/causality/packages/causality-layer/DESCRIPTION.md, /home/huynhnguyen/github/causality/packages/causality-layer/examples/examples/SGDOptimizer.babel.js]<h3 id="trainermixins">TrainerMixins</h3></li>
<li>Mixins for mix with Pipeline class.
[EXAMPLE  ERROR! /home/huynhnguyen/github/causality/packages/causality-layer/DESCRIPTION.md, /home/huynhnguyen/github/causality/packages/causality-layer/examples/trainer.mixins.babel.js]</li>
</ul>
<h2 id="causal-net-optimizers">causal-net.optimizers</h2><p>This causal-net.optimizer provides: </p>
<h3 id="causalnetsgdoptimizer">causalNetSGDOptimizer</h3><ul>
<li>Provide SGD optimizing methods: adam</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { causalNetCore } from &quot;causal-net.core&quot;;
import { causalNetSGDOptimizer } from &apos;causal-net.optimizers&apos;;

var adam = causalNetSGDOptimizer.adam({learningRate: 0.01});

const T = causalNetCore.CoreTensor;
var a = T.variable(T.tensor([1,2,3,4]).reshape([2,2])); 
var b = T.tensor([2,3,4,5]).reshape([2,2]);
const FitFn = ()=&gt;{
    return a.mul(b).mean();
};
console.log( adam.fit(FitFn) );
a.print();
b.print();</code>
</code></pre>
<p><a href="./manual/./asset/examples/causalNetSGDOptimizers.babel.js">Run code</a></p>
<h3 id="trainermixins">TrainerMixins</h3><ul>
<li>Mixins for mix with Pipeline class.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { causalNetSGDOptimizer, TrainerMixins } from &apos;causal-net.optimizers&apos;;
import { causalNetModels, ModelMixins } from &apos;causal-net.models&apos;;
import { causalNetParameters, causalNetLayers, causalNetRunner, NetMixins } from &apos;causal-net.layer&apos;;
import { causalNetCore } from &apos;causal-net.core&apos;;
import { platform } from &apos;causal-net.utils&apos;;
import { Tensor } from &apos;causal-net.core&apos;;
import { termLogger } from &apos;causal-net.log&apos;;

class SimplePipeline extends platform.mixWith(Tensor, [ 
        NetMixins, 
        ModelMixins, 
        TrainerMixins]){
    constructor(netParameters, netRunner, logger){
        super();
        this.logger = logger;
        this.Parameters = netParameters;
        this.Net = netRunner;
    }
}
const T = causalNetCore.CoreTensor;
(async ()=&gt;{
    const PipeLineConfigure = {
        Dataset: {
            TrainData: [[1,2,3,4]],
            TestData: [[1,2,3,4]],
            ValidateData: [[1,2,3,4]]
        },
        Net: { 
                Parameters: { Predict: null, Encode: null, Decode: null },
                Layers: { 
                    Predict: [ causalNetLayers.dense(4, 3), 
                               causalNetLayers.dense(3, 2) ], 
                    Encode: [ causalNetLayers.dense(4, 2) ], 
                    Decode: [ causalNetLayers.dense(4, 2) ] 
                },
                Model: causalNetModels.classification(2),
                Optimizer: causalNetSGDOptimizer.adam({learningRate: 0.01})
        }
    };

    let pipeline = new SimplePipeline( causalNetParameters, 
                            causalNetRunner, termLogger);
    pipeline.setByConfig(PipeLineConfigure);
    const { Predictor } = pipeline.Net;
    let predictInfer = Predictor(T.tensor([[1,2,3,4]]));
    predictInfer.print();
    predictInfer = pipeline.PredictModel(T.tensor([[1,2,3,4]]));
    predictInfer.print();

    let modelOneHotPredict = pipeline.OneHotPredictModel(T.tensor([[1,2,3,4]]).asType(&apos;float32&apos;));
    modelOneHotPredict.print();
    let fit = pipeline.FitModel(T.tensor([[1,2,3,4]]).asType(&apos;float32&apos;));
    fit.print();
    let modelLoss = pipeline.LossModel(T.tensor([[1,2,3,4]]).asType(&apos;float32&apos;), 
                             T.tensor([[0, 1]]).asType(&apos;float32&apos;));
    modelLoss.print();
    let trainLoss = pipeline.Trainer(T.tensor([[1,2,3,4]]).asType(&apos;float32&apos;), 
        T.tensor([[0, 1]]).asType(&apos;float32&apos;));
    trainLoss.print();
    trainLoss = pipeline.Trainer(T.tensor([[1,2,3,4]]).asType(&apos;float32&apos;), 
        T.tensor([[0, 1]]).asType(&apos;float32&apos;));
    trainLoss.print();
})().catch(err=&gt;{
    console.error({err});
});</code>
</code></pre>
<p><a href="./manual/./asset/examples/trainer.mixins.babel.js">Run code</a></p>
<h2 id="causal-net-memcache">causal-net.memcache</h2><h3 id="memdowncache">memDownCache</h3><ul>
<li>memDownCache provides wrapper for <a href>memdown</a> caching.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import {memDownCache} from &apos;causal-net.memcache&apos;;
import {termLogger} from &apos;causal-net.log&apos;;

(async ()=&gt;{
    await memDownCache.setItem(123, &apos;1223adfa&apos;);
    termLogger.log({getItem: await memDownCache.getItem(123)});
})();
</code>
</code></pre>
<p><a href="./manual/./asset/examples/memDownCache.babel.js">Run code</a></p>
<h3 id="memcachemixins">MemCacheMixins</h3><ul>
<li>Mixins for mix with Pipeline class for memcache.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import {memDownCache, MemCacheMixins} from &apos;causal-net.memcache&apos;;
import {termLogger} from &apos;causal-net.log&apos;;

import { platform } from &apos;causal-net.utils&apos;;
import { Tensor, Store } from &apos;causal-net.core&apos;;

class SimplePipeline extends platform.mixWith(Tensor, [MemCacheMixins]){
    constructor(){
        super();
        this.MemCache = memDownCache;
    }
}
let pipeline = new SimplePipeline();
termLogger.log(pipeline.MemCache instanceof Store);</code>
</code></pre>
<p><a href="./manual/./asset/examples/memCache.mixins.babel.js">Run code</a></p>
<h2 id="causal-net-storage">causal-net.storage</h2><p>This module provides:</p>
<h3 id="indexdbstorage">indexDBStorage</h3><ul>
<li>The isomorphic high performance key-value storage based on indexDB.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { indexDBStorage } from &apos;causal-net.storage&apos;;
(async ()=&gt;{
    await indexDBStorage.writeFile(&apos;/temp&apos;,&apos;12345&apos;);
    let content  = await indexDBStorage.readFile(&apos;/temp&apos;);
    console.log({content});

    //get file list
    let listFiles = await indexDBStorage.getFileList(&apos;/&apos;);
    console.log({listFiles});

    //fetch png image and save pixel data into file
    const url = &apos;https://avatars3.githubusercontent.com/u/43268620?s=200&amp;v=4&apos;;
    await indexDBStorage.fetchPNGFile(url, &apos;icon&apos;);
    const pixelArray = await indexDBStorage.readPNGFile(&apos;icon&apos;);
    console.log({ pixelArray });

    let ops = [
        { type: &apos;put&apos;, key: &apos;temp&apos;, value: &apos;123445&apos; },
        { type: &apos;del&apos;, key: &apos;temp&apos; }];
    //batch does not support &apos;get&apos; type
    let batchResult = await indexDBStorage.batch(ops);
    console.log({batchResult});
})().catch(err=&gt;{
    console.error(err);
});
</code>
</code></pre>
<p><a href="./manual/./asset/examples/storage.babel.js">Run code</a></p>
<h3 id="storagemixins">StorageMixins</h3><ul>
<li>Mixins storage for mix with Pipeline class.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { StorageMixins, indexDBStorage } from &apos;causal-net.storage&apos;;
import { platform } from &apos;causal-net.utils&apos;;
import { Tensor, Store } from &apos;causal-net.core&apos;;

class SimplePipeline extends platform.mixWith(Tensor, [StorageMixins]){
    constructor(storage){
        super();
        this.Storage = storage;
    }
}
let pipeline = new SimplePipeline(indexDBStorage);
console.log(pipeline.Storage instanceof Store);</code>
</code></pre>
<p><a href="./manual/./asset/examples/storage.mixins.babel.js">Run code</a></p>
<h3 id="csvfilemixins">CSVFileMixins</h3><ul>
<li>Mixins for read/write/fetch CSV file. </li>
</ul>
<h3 id="pngfilemixins">PNGFileMixins</h3><ul>
<li>Mixins for read/write/fetch PNG file.</li>
</ul>
<h3 id="textfilemixins">TextFileMixins</h3><ul>
<li>Mixins for read/write/fetch Text file.</li>
</ul>
<h2 id="causal-net-utils">causal-net.utils</h2><p>This module provides:</p>
<h3 id="platform">platform</h3><ul>
<li>Enhanced isomorphic mixins with corresponding platform (node|web).</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { assert } from &apos;causal-net.utils&apos;;
assert.seemMatchSample([2,2,3], [1,2,3], &apos;validate sample&apos;);
assert.seemMatchSample(&apos;sample text&apos;, &apos;pattern text&apos;, &apos;validate sample&apos;);
assert.seemMatchSample( { &apos;text&apos; : &apos;pattern text 1&apos;, &apos;number&apos; : 1123 }, 
                        { &apos;text&apos; : &apos;pattern text&apos;, &apos;number&apos; : 1123 } , &apos;validate sample&apos;);
try{
    assert.seemMatchSample([&apos;2&apos;,2,3], [1,2,3], &apos;validate sample&apos;);
}
catch(err){
    //error due to mismatch schema
    console.log(err.message);
};
class A{};
let a = new A();
assert.beInstanceOf(a, A);
try{
    assert.beInstanceOf(&apos;1&apos;, A);
}
catch(err){
    console.log(err.message);
}
</code>
</code></pre>
<p><a href="./manual/./asset/examples/assert.babel.js">Run code</a></p>
<h3 id="fetch">fetch</h3><ul>
<li>isomorphic fetch.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import {fetch, Stream, PNGUtils} from &apos;causal-net.utils&apos;;
(async ()=&gt;{
    let link = &apos;https://avatars3.githubusercontent.com/u/43268620?s=200&amp;v=4&apos;;
    let content = await fetch.fetchData(link);
    console.log({&apos;content length&apos;: content.length});
});

</code>
</code></pre>
<p><a href="./manual/./asset/examples/fetch.babel.js">Run code</a></p>
<h3 id="png">PNG</h3><ul>
<li>isomorphic PNG parser.</li>
</ul>
<p>Web/Node:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { pngUtils } from &apos;causal-net.utils&apos;;
(async ()=&gt;{
    const link = &apos;https://avatars3.githubusercontent.com/u/43268620?s=200&amp;v=4&apos;;
    let fetchedData = await pngUtils.fetchPNG(link);
    console.log(fetchedData.length);
})();</code>
</code></pre>
<p><a href="./manual/./asset/examples/png.babel.js">Run code</a></p>
<p>Node:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { pngUtils } from &apos;causal-net.utils&apos;;
(async ()=&gt;{
    let data = await pngUtils.readPNG(&apos;../../datasets/icon.png&apos;);
    console.log(data.length);
    pngUtils.writePNG(data, [200, 200, 4], &apos;./out.png&apos;);
})();
</code>
</code></pre>
<p><a href="./manual/./asset/examples/png.babel.node.js">Run code</a></p>
<h3 id="csv">CSV</h3><ul>
<li>isomorphic CSV parser.</li>
</ul>
<p>Node:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { csvUtils } from &apos;causal-net.utils&apos;;
(async ()=&gt;{
    let data = await csvUtils.readCSV(&apos;../../datasets/credict.csv&apos;);
    console.log(data);
})();
</code>
</code></pre>
<p><a href="./manual/./asset/examples/csv.babel.node.js">Run code</a></p>
<h3 id="stream">Stream</h3><ul>
<li>isomorphic Stream with Readable, Writeable, Duplex.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { stream } from &apos;causal-net.utils&apos;;

let reader = stream.makeReadable();

const TranformFn = (chunkData, chunkEncoding, afterTransformFn) =&gt;{
    chunkData.x = (chunkData.x+1.5);
    let event = null;
    afterTransformFn(event, chunkData);
};
let transformer = stream.makeTransform(TranformFn);

const WriteFn = (chunkData, chunkEncoding, callback) =&gt;{
    console.log({chunkData});
    callback();
};
let writer = stream.makeWritable(WriteFn);

reader.pipe(transformer).pipe(writer);
//write random int for every 100 ms    
setInterval(() =&gt; {
    reader.push({ x: Math.random() });
}, 100);
</code>
</code></pre>
<p><a href="./manual/./asset/examples/stream.babel.js">Run code</a></p>
<h3 id="assert">assert</h3><ul>
<li>Enhanced isomorphic assert with schema learnt from example.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { assert } from &apos;causal-net.utils&apos;;
assert.seemMatchSample([2,2,3], [1,2,3], &apos;validate sample&apos;);
assert.seemMatchSample(&apos;sample text&apos;, &apos;pattern text&apos;, &apos;validate sample&apos;);
assert.seemMatchSample( { &apos;text&apos; : &apos;pattern text 1&apos;, &apos;number&apos; : 1123 }, 
                        { &apos;text&apos; : &apos;pattern text&apos;, &apos;number&apos; : 1123 } , &apos;validate sample&apos;);
try{
    assert.seemMatchSample([&apos;2&apos;,2,3], [1,2,3], &apos;validate sample&apos;);
}
catch(err){
    //error due to mismatch schema
    console.log(err.message);
};
class A{};
let a = new A();
assert.beInstanceOf(a, A);
try{
    assert.beInstanceOf(&apos;1&apos;, A);
}
catch(err){
    console.log(err.message);
}
</code>
</code></pre>
<p><a href="./manual/./asset/examples/assert.babel.js">Run code</a></p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>

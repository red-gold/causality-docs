<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | causal-net</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-pure-min.css"><link rel="stylesheet" href="./inject/css/0-causal-style.css"><script src="./inject/script/0-jquery-3.3.1.min.js"></script><script src="./inject/script/0-run_examples.js"></script></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="v-seperate"></div>
  <ul class="demo">
    <li>
        <a href="prebuilt-demos/representation.html">Sentence representation demo</a>
    </li>
  </ul>
  
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/introduction.html"><a href="manual/introduction.html" data-ice="link">Introduction</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#pipeline" data-ice="link">Pipeline</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/packages.html"><a href="manual/packages.html" data-ice="link">Monorepo</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#project-module-view" data-ice="link">Project module view</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-core" data-ice="link">causal-net.core</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetcore" data-ice="link">causalNetCore</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#tensor" data-ice="link">Tensor</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#functor" data-ice="link">Functor</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#store" data-ice="link">Store</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#event" data-ice="link">Event</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-datasets" data-ice="link">causal-net.datasets</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetdatasource" data-ice="link">CausalNetDataSource</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#datasetmixins" data-ice="link">DatasetMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-deployment" data-ice="link">causal-net.deployment</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetdeployment" data-ice="link">causalNetDeployment</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#deploymentmixins" data-ice="link">DeploymentMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-layer" data-ice="link">causal-net.layer</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetlayers" data-ice="link">CausalNetLayers</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetparameters" data-ice="link">CausalNetParameters</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetrunner" data-ice="link">CausalNetRunner</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#layerrunnermixins" data-ice="link">LayerRunnerMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-log" data-ice="link">causal-net.log</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#termlogger" data-ice="link">TermLogger</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#loggermixins" data-ice="link">LoggerMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-preprocessing" data-ice="link">causal-net.preprocessing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#nlppreprocessing" data-ice="link">nlpPreprocessing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#imagepreprocessing" data-ice="link">imagePreprocessing</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#preprocessingmixins" data-ice="link">PreprocessingMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-representation" data-ice="link">causal-net.representation</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetembedding" data-ice="link">CausalNetEmbedding</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#universalembedding" data-ice="link">UniversalEmbedding</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#representationmixins" data-ice="link">RepresentationMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-sampling" data-ice="link">causal-net.sampling</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetsampling" data-ice="link">CausalNetSampling</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#samplingmixins" data-ice="link">SamplingMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-models" data-ice="link">causal-net.models</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetmodels" data-ice="link">CausalNetModels</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#modelmixins" data-ice="link">ModelMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-optimizers" data-ice="link">causal-net.optimizers</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#causalnetsgdoptimizer" data-ice="link">CausalNetSGDOptimizer</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#trainermixins" data-ice="link">TrainerMixins</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#evaluatormixins" data-ice="link">EvaluatorMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-memcache" data-ice="link">causal-net.memcache</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#memdowncache" data-ice="link">memDownCache</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#memcachemixins" data-ice="link">MemCacheMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-storage" data-ice="link">causal-net.storage</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#indexdbstorage" data-ice="link">indexDBStorage</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#storagemixins" data-ice="link">StorageMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/packages.html"><a href="manual/packages.html#causal-net-utils" data-ice="link">causal-net.utils</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#platform" data-ice="link">Platform</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#fetch" data-ice="link">Fetch</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#png" data-ice="link">PNG</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#csv" data-ice="link">CSV</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#stream" data-ice="link">Stream</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/packages.html"><a href="manual/packages.html#assert" data-ice="link">Assert</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/streamProcessingText8.babel.node.js.html"><a href="manual/streamProcessingText8.babel.node.js.html" data-ice="link">Tutorials</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/streamProcessingText8.babel.node.js.html"><a href="manual/streamProcessingText8.babel.node.js.html#stream-processing-with-text8-data" data-ice="link">Stream processing with text8 data</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><p><img src="./manual/./asset/iker-urteaga-246955-unsplash.jpg" alt="Photo by Iker Urteaga on Unsplash"></p>
<h1 id="introduction">Introduction</h1><p>Key design principles:</p>
<ul>
<li>All components are isomorphic.</li>
<li>self-explaning. </li>
</ul>
<p>We not use type script because we try to mitigate early technical debt from unpaid <a href="https://medium.com/javascript-scene/the-typescript-tax-132ff4cb175b">type tax</a>. </p>
<h2 id="pipeline">Pipeline</h2><p>Causality attempts to standardize the pipeline into those steps:</p>
<ul>
<li>Sampling from raw data.</li>
<li>Preprocessing data.</li>
<li>Infering representation of data.</li>
<li>Training/ensemble training.</li>
<li>Evaluation/ensemble evaluation.</li>
</ul>
<p>For example, we can build a simple Logistic regression model with dummy dataset</p>
<pre><code><code class="source-code prettyprint">import { causalNetSGDOptimizer } from &apos;causal-net.optimizers&apos;;
import { causalNetModels } from &apos;causal-net.models&apos;;
import { causalNetParameters, causalNetLayers } from &apos;causal-net.layer&apos;;
import { causalNet } from &apos;../../src/index&apos;;


(async ()=&gt;{
    const DummyData = (batchSize)=&gt;{
        let samples = [ [0,1,2,3], 
                        [0,1,2,3], 
                        [0,1,2,3] ];
        let labels  = [ [1,0], 
                        [1,0], 
                        [1,0] ];
        return [{samples, labels}];
    };
    let emitCounter = 0;
    const PipeLineConfigure = {
        Dataset: {
            TrainDataGenerator: DummyData,
            TestDataGenerator: DummyData
        },
        Net: { 
                Parameters: causalNetParameters.InitParameters(),
                Layers: { 
                    Predict: [  causalNetLayers.dense(4, 3), 
                                causalNetLayers.dense(3, 2)]
                },
                Model: causalNetModels.classification(2),
                Optimizer: causalNetSGDOptimizer.adam({learningRate: 0.01})
        },
        Deployment: {
            Emitter: async ()=&gt;{
                return new Promise((resolve, reject)=&gt;{
                    setTimeout(()=&gt;{
                        let data = (emitCounter &lt; 3)?{Predict: [0,1,2,3]}:null;
                        emitCounter += 1;
                        console.log({ emitter: data});
                        resolve(data);
                    }, 1000);
                });
            },
            Listener: async (infer)=&gt;{
                console.log({ Listener: infer});
            }
        }
    };
    causalNet.setByConfig(PipeLineConfigure);
    causalNet.deploy().then(deployResult=&gt;console.log({deployResult}));
    console.log(await causalNet.train(10, 1));
    console.log(await causalNet.test(10));
})().catch(err=&gt;{
    console.error({err});
});</code>
</code></pre><p>and the ensemble version</p>
<pre><code><code class="source-code prettyprint">import { causalNetSGDOptimizer } from &apos;causal-net.optimizers&apos;;
import { causalNetModels } from &apos;causal-net.models&apos;;
import { causalNetParameters, causalNetLayers } from &apos;causal-net.layer&apos;;
import { causalNet } from &apos;../../src/index&apos;;


(async ()=&gt;{
    const DummyData = (batchSize)=&gt;{
        let samples = [ [0,1,2,3], 
                        [0,1,2,3], 
                        [0,1,2,3] ];
        let labels  = [ [1,0], 
                        [1,0], 
                        [1,0] ];
        return [{samples, labels}];
    };
    let emitCounter = 0;
    const PipeLineConfigure = {
        Dataset: {
            TrainDataGenerator: DummyData,
            TestDataGenerator: DummyData
        },
        Net: { 
                Parameters: causalNetParameters.InitParameters(),
                Layers: { 
                    Predict: [  causalNetLayers.dense(4, 3), 
                                causalNetLayers.dense(3, 2)]
                },
                Model: causalNetModels.classification(2),
                Optimizer: causalNetSGDOptimizer.adam({learningRate: 0.01})
        },
        Deployment: {
            Emitter: async ()=&gt;{
                return new Promise((resolve, reject)=&gt;{
                    setTimeout(()=&gt;{
                        let data = (emitCounter &lt; 3)
                                        ?{Predict: [0,1,2,3], EnsemblePredict: [0,1,2,3]}
                                        :null;
                        emitCounter += 1;
                        console.log({ emitter: data});
                        resolve(data);
                    }, 1000);
                });
            },
            Listener: async (infer)=&gt;{
                console.log({ Listener: infer});
            }
        }
    };
    causalNet.setByConfig(PipeLineConfigure);

    console.log(causalNet.parameters);
    let models = [&apos;Model1&apos;, &apos;Model2&apos;, &apos;Model3&apos;];
    for(let model of models){
        console.log(await causalNet.ensembleTrain(2, 1, model));
    }
    causalNet.EnsembleModels = models;
    causalNet.deploy().then(res=&gt;console.log(res));
})().catch(err=&gt;{
    console.error({err});
});</code>
</code></pre></div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>

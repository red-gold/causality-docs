<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../">
  <title data-ice="title">Manual | causal-net</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-pure-min.css"><link rel="stylesheet" href="./inject/css/0-causal-style.css"><script src="./inject/script/0-jquery-3.3.1.min.js"></script><script src="./inject/script/0-run_examples.js"></script></head>
<body class="layout-container manual-root" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div class="manual-toc-root">
  
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/introduction.html"><a href="manual/introduction.html#introduction" data-ice="link">Introduction</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#pipeline-package" data-ice="link">Pipeline package</a></li>
<li data-ice="manualNav" class="indent-h1" data-link="manual/introduction.html"><a href="manual/introduction.html#sub-packages" data-ice="link">Sub-packages</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#causal-net-core" data-ice="link">causal-net.core</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#causalnetcore" data-ice="link">causalNetCore</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#tensor" data-ice="link">Tensor</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#function" data-ice="link">Function</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#store" data-ice="link">Store</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#causal-net-representation" data-ice="link">causal-net.representation</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#causalnetembedding" data-ice="link">causalNetEmbedding</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#universalembedding" data-ice="link">universalEmbedding</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#representationmixins" data-ice="link">RepresentationMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#causal-net-sampling" data-ice="link">causal-net.sampling</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#causalnetsampling" data-ice="link">causalNetSampling</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#samplingmixins" data-ice="link">SamplingMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#causal-net-models" data-ice="link">causal-net.models</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#causalnetmodels" data-ice="link">causalNetModels</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#supervisedmodelsmixins" data-ice="link">SupervisedModelsMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#causal-net-memcache" data-ice="link">causal-net.memcache</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#memdowncache" data-ice="link">memDownCache</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#memcachemixins" data-ice="link">MemCacheMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#causal-net-storage" data-ice="link">causal-net.storage</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#indexdbstorage" data-ice="link">indexDBStorage</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#storagemixins" data-ice="link">StorageMixins</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#csvfilemixins" data-ice="link">CSVFileMixins</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#pngfilemixins" data-ice="link">PNGFileMixins</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#textfilemixins" data-ice="link">TextFileMixins</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/introduction.html"><a href="manual/introduction.html#causal-net-utils" data-ice="link">causal-net.utils</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#platform" data-ice="link">platform</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#fetch" data-ice="link">fetch</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#png" data-ice="link">PNG</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#csv" data-ice="link">CSV</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#stream" data-ice="link">Stream</a></li>
<li data-ice="manualNav" class="indent-h3" data-link="manual/introduction.html"><a href="manual/introduction.html#assert" data-ice="link">assert</a></li>
</ul>
  </div>
<div data-ice="manual">
    <ul class="manual-toc">
      
    <li data-ice="manualNav" class="indent-h1" data-link="manual/streamProcessingText8.babel.node.js.html"><a href="manual/streamProcessingText8.babel.node.js.html" data-ice="link">Tutorials</a></li>
<li data-ice="manualNav" class="indent-h2" data-link="manual/streamProcessingText8.babel.node.js.html"><a href="manual/streamProcessingText8.babel.node.js.html#stream-processing-with-text8-data" data-ice="link">Stream processing with text8 data</a></li>
</ul>
  </div>
</div>
</nav>

<div class="content" data-ice="content"><div class="github-markdown" data-ice="content"><p><img src="./manual/./asset/iker-urteaga-246955-unsplash.jpg" alt="Photo by Iker Urteaga on Unsplash"></p>
<h1 id="introduction">Introduction</h1><p>Causality intensively uses <a href="https://en.wikipedia.org/wiki/Mixin">mixin</a> for composing class. Mixins allow constructing elastic class that imports just enough methods for target usages. We try to mitigate redundant methods and reduce bundle size. The main mixins for building a pipeline class can be found at the <code>/src/</code> folder which pre-built <code>CausalNet</code> pipeline ready to use (check tutorials session). Advance mixins 
are seperated into different sub-packages under the <code>/packages/</code> folder. Each sub-package exports at most one mixin for building pipeline, For example, causality-optimizer provide trainerMixins for optimizing parameters.</p>
<p>Key design principles:</p>
<ul>
<li>Isomorphic.</li>
<li>Make everything easy to extend.</li>
<li>None type to avoid <a href="https://medium.com/javascript-scene/the-typescript-tax-132ff4cb175b">type tax</a>. </li>
<li>Data processing is formed by chaining functional blocks. </li>
</ul>
<h2 id="pipeline-package">Pipeline package</h2><p>Causality attempts to standardize the pipeline into those steps:</p>
<ul>
<li>Sampling from raw data.</li>
<li>Preprocessing data.</li>
<li>Infering representation of data.</li>
<li>Training/ensemble training.</li>
<li>Evaluation/ensemble evaluation.</li>
</ul>
<p><img src="./manual/./asset/block_diagram.png" alt="overview"></p>
<p>Here are some machine learning concepts:</p>
<ul>
<li>Parameters: Each model </li>
<li>Hyper parameters: </li>
<li>Layers:</li>
<li>Optimizers:</li>
<li>Sampling: </li>
</ul>
<h1 id="sub-packages">Sub-packages</h1><h2 id="causal-net-core">causal-net.core</h2><p>This package provides:</p>
<h3 id="causalnetcore">causalNetCore</h3><ul>
<li>Allow acess to core function and core tensor instance.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { causalNetCore } from &apos;causal-net.core&apos;;
console.log(causalNetCore.CoreTensor);
console.log(causalNetCore.CoreFunction);
</code>
</code></pre>
<p><a href="./manual/./asset/examples/core.babel.js">Run code</a></p>
<h3 id="tensor">Tensor</h3><ul>
<li>Primitive class for composing Tensor based class. This class is based on <a href="https://js.tensorflow.org/">tensorflowjs</a></li>
</ul>
<h3 id="function">Function</h3><ul>
<li>Primitive class for composing Function based class. This class is based on <a href="https://ramdajs.com/">Ramda</a></li>
</ul>
<h3 id="store">Store</h3><ul>
<li>Primivtive class for composing Store base class. This class is based on <a href="https://www.npmjs.com/package/levelup">levelup</a></li>
</ul>
<h2 id="causal-net-representation">causal-net.representation</h2><p>This module provide representation instances and representation mixins</p>
<h3 id="causalnetembedding">causalNetEmbedding</h3><ul>
<li>Provide methods for transforming tokens or representing sentence into single vector.</li>
</ul>
<p>Node</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { causalNetEmbedding } from &apos;causal-net.representation&apos;;
import { termLogger } from &apos;causal-net.log&apos;;
(async ()=&gt;{
    const configLink = &apos;../../datasets/WordVec_EN/&apos;;
    await causalNetEmbedding.connect(configLink, true);
    //first time transform will find on storage cache
    let vecs = await causalNetEmbedding.transform([&apos;this&apos;, &apos;is&apos;, &apos;test&apos;]);
    for(let vec of vecs){
        termLogger.log({ vec });
    }
    //second time transform will find on memory cache
    vecs = await causalNetEmbedding.transform([&apos;this&apos;, &apos;is&apos;, &apos;test&apos;]);
    for(let vec of vecs){
        termLogger.log({ vec });
    }
    //return the tensor representing sentence
    let sentVec = await causalNetEmbedding.sentenceEncode([ [&apos;this&apos;, &apos;is&apos;, &apos;test&apos;] ]);
    sentVec.print();
})().catch(err=&gt;{
    console.error(err);
});</code>
</code></pre>
<p><a href="./manual/./asset/examples/causalNetEmbedding.babel.node.js">Run code</a></p>
<h3 id="universalembedding">universalEmbedding</h3><ul>
<li>Provide methods for transforming tokens or representing sentence into single vector based <a href="https://github.com/tensorflow/tfjs-models/tree/master/universal-sentence-encoder">use</a></li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { universalEmbedding, Log } from &apos;causal-net.representation&apos;;
import { termLogger } from &apos;causal-net.log&apos;;
(async ()=&gt;{
    // termLogger.groupBegin();
    await universalEmbedding.connect();
    // termLogger.groupEnd();
    let sentVec = await universalEmbedding.sentenceEncode([ &apos;this is test&apos; ])
    sentVec.print();
})();</code>
</code></pre>
<p><a href="./manual/./asset/examples/universalEmbedding.babel.js">Run code</a></p>
<h3 id="representationmixins">RepresentationMixins</h3><ul>
<li>Mixins for mix with Pipeline class or dataset class.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { RepresentationMixins, causalNetEmbedding } from &apos;causal-net.representation&apos;;
import { platform } from &apos;causal-net.utils&apos;;
import { Tensor } from &apos;causal-net.core&apos;;
const PipeLineConfigure = {
    Representation: {
        Embedding: causalNetEmbedding,
        EmbeddingConfig: &apos;../../datasets/WordVec_EN/&apos;,
    }
}
class SimplePipeline extends platform.mixWith(Tensor, [RepresentationMixins]){
    constructor(configure){
        super();
        this.setRepresentationByConfig(configure);
    }
}
let pipeline = new SimplePipeline(PipeLineConfigure);
pipeline.connect();
console.log(pipeline.Representation);</code>
</code></pre>
<p><a href="./manual/./asset/examples/embeddingMixins.babel.node.js">Run code</a></p>
<h2 id="causal-net-sampling">causal-net.sampling</h2><p>This causal-net.sampling is a sub-module for <a href="https://red-gold.github.io/causality-docs/">causality</a> project.
This module provide sampling instance and sampling mixins</p>
<h3 id="causalnetsampling">causalNetSampling</h3><ul>
<li>Provide sampling instance with various sampling methods.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { causalNetSampling } from &apos;causal-net.sampling&apos;;
import {termLogger as Logger} from &apos;causal-net.log&apos;;
let numSamples = 4;
let idSize = 10;//id list: [0,1,2,3,4,5,6,7,8,9]
Logger.log(causalNetSampling.subSampling(numSamples, idSize));

numSamples = 4;
let positiveSampleId = [0, 1];
//ids: [0, 1, 2, 3];
let probIds = [0.9, 0.9, 0.3, 0.7];
let samples = causalNetSampling.negSampling(numSamples, positiveSampleId, probIds);
termLogger.log({ samples });</code>
</code></pre>
<p><a href="./manual/./asset/examples/causalNetSampling.babel.js">Run code</a></p>
<h3 id="samplingmixins">SamplingMixins</h3><ul>
<li>Mixins Mixins for mix with Pipeline class or dataset class.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { SamplingMixins, causalNetSampling } from &apos;causal-net.sampling&apos;;
import { Platform } from &apos;causal-net.utils&apos;;
import { Tensor, Function } from &apos;causal-net.core&apos;;
console.log(causalNetSampling instanceof Function);
class SimplePipeline extends Platform.mixWith(Tensor, [SamplingMixins]){
    constructor(){
        super();
        this.Sampling = causalNetSampling;
    }
}
let pipeline = new SimplePipeline();
console.log(pipeline.Sampling);</code>
</code></pre>
<p><a href="./manual/./asset/examples/sampling.mixins.babel.js">Run code</a></p>
<h2 id="causal-net-models">causal-net.models</h2><h3 id="causalnetmodels">causalNetModels</h3><ul>
<li>causalNetModels provides common used models: </li>
</ul>
<p>Classification models</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { Log, Models, CausalNet } from &apos;../../src/index&apos;;
const { causalNetModels } = Models;
const { termLogger } = Log;
let inputs = [[0.52, 1.12,  0.77],
              [0.88, -1.08, 0.15],
              [0.52, 0.06, -1.30],
              [0.74, -2.49, 1.39]];
let targets = [[0, 1], [0, 1], [0, 1], [0, 1]];
const _NetConfig = {
    HyperParameters: {SampleSize: 4},
    NumClasses: 2,
    Pipeline:[
        {   Name:&apos;dense&apos;, Type: &apos;Tensor&apos;, 
            Parameters: { Weight: [3, 2], Bias: [2]  },
            Flow: [ { Op: &apos;dot&apos;, Parameter: &apos;Weight&apos;, Args: [] },
                    { Op: &apos;add&apos;, Parameter: &apos;Bias&apos;,  Args: [] } ] 
        },
        {   Name:&apos;PipeOutput&apos;, Type: &apos;Tensor&apos;, 
            Flow: [ { Op: &apos;reshape&apos;, Args: [[&apos;$SampleSize&apos;, -1]] } ] 
        } 
    ],
    Model:  causalNetModels.classification() };

console.log({NetConfig: _NetConfig});
let parameters = {};

let causalNet = new CausalNet(_NetConfig, parameters);

(async ()=&gt;{
    const DoBatchTrainSampleGenerator = (epochIdx)=&gt;([{idx:0, batchSize:4, data: [inputs, targets]}]);
    let logTrain = await causalNet.train(DoBatchTrainSampleGenerator, 20);
    termLogger.log(logTrain);
    const DoBatchTestSampleGenerator = ()=&gt;([{idx:0, batchSize:4, data: [inputs, targets]}]);
    let testResult = await causalNet.accuracyTest(DoBatchTestSampleGenerator);
    termLogger.log({testResult});
    await causalNet.saveParams(&apos;save_model.model&apos;);
    await causalNet.loadParams(&apos;save_model.model&apos;);
    testResult = await causalNet.accuracyTest(DoBatchTestSampleGenerator);
    termLogger.log({testResult});
    testResult = await causalNet.ensembleAccuracyTest(DoBatchTestSampleGenerator, [&apos;save_model.model&apos;]);
    termLogger.log({testResult});
    testResult = await causalNet.accuracyTest(DoBatchTestSampleGenerator, [&apos;save_model.model&apos;]);
    termLogger.log({testResult});
})().catch(err=&gt;{
    console.error({err});
});</code>
</code></pre>
<p><a href="./manual/./asset/examples/classification.babel.js">Run code</a></p>
<h3 id="supervisedmodelsmixins">SupervisedModelsMixins</h3><ul>
<li>Mixins for mix with Pipeline class for supervised models.</li>
</ul>
<p>[EXAMPLE  ERROR! /home/huynhnguyen/github/causality/packages/causality-layers/DESCRIPTION.md]</p>
<h2 id="causal-net-memcache">causal-net.memcache</h2><h3 id="memdowncache">memDownCache</h3><ul>
<li>memDownCache provides wrapper for <a href>memdown</a> caching.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import {memDownCache} from &apos;causal-net.memcache&apos;;
import {termLogger} from &apos;causal-net.log&apos;;

(async ()=&gt;{
    await memDownCache.setItem(123, &apos;1223adfa&apos;);
    termLogger.log({getItem: await memDownCache.getItem(123)});
})();
</code>
</code></pre>
<p><a href="./manual/./asset/examples/memDownCache.babel.js">Run code</a></p>
<h3 id="memcachemixins">MemCacheMixins</h3><ul>
<li>Mixins for mix with Pipeline class for memcache.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import {memDownCache, MemCacheMixins} from &apos;causal-net.memcache&apos;;
import {termLogger} from &apos;causal-net.log&apos;;

import { platform } from &apos;causal-net.utils&apos;;
import { Tensor, Store } from &apos;causal-net.core&apos;;

class SimplePipeline extends platform.mixWith(Tensor, [MemCacheMixins]){
    constructor(){
        super();
        this.MemCache = memDownCache;
    }
}
let pipeline = new SimplePipeline();
termLogger.log(pipeline.MemCache instanceof Store);</code>
</code></pre>
<p><a href="./manual/./asset/examples/memCache.mixins.babel.js">Run code</a></p>
<h2 id="causal-net-storage">causal-net.storage</h2><p>This module provides:</p>
<h3 id="indexdbstorage">indexDBStorage</h3><ul>
<li>The isomorphic high performance key-value storage based on indexDB.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { indexDBStorage } from &apos;causal-net.storage&apos;;
(async ()=&gt;{
    await indexDBStorage.writeFile(&apos;/temp&apos;,&apos;12345&apos;);
    let content  = await indexDBStorage.readFile(&apos;/temp&apos;);
    console.log({content});

    //get file list
    let listFiles = await indexDBStorage.getFileList(&apos;/&apos;);
    console.log({listFiles});

    //fetch png image and save pixel data into file
    const url = &apos;https://avatars3.githubusercontent.com/u/43268620?s=200&amp;v=4&apos;;
    await indexDBStorage.fetchPNGFile(url, &apos;icon&apos;);
    const pixelArray = await indexDBStorage.readPNGFile(&apos;icon&apos;);
    console.log({ pixelArray });

    let ops = [
        { type: &apos;put&apos;, key: &apos;temp&apos;, value: &apos;123445&apos; },
        { type: &apos;del&apos;, key: &apos;temp&apos; }];
    //batch does not support &apos;get&apos; type
    let batchResult = await indexDBStorage.batch(ops);
    console.log({batchResult});
})().catch(err=&gt;{
    console.error(err);
});
</code>
</code></pre>
<p><a href="./manual/./asset/examples/storage.babel.js">Run code</a></p>
<h3 id="storagemixins">StorageMixins</h3><ul>
<li>Mixins storage for mix with Pipeline class.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { StorageMixins, indexDBStorage } from &apos;causal-net.storage&apos;;
import { platform } from &apos;causal-net.utils&apos;;
import { Tensor, Store } from &apos;causal-net.core&apos;;

class SimplePipeline extends platform.mixWith(Tensor, [StorageMixins]){
    constructor(){
        super();
        this.Storage = indexDBStorage;
    }
}
let pipeline = new SimplePipeline();
console.log(pipeline.Storage instanceof Store);</code>
</code></pre>
<p><a href="./manual/./asset/examples/storage.mixins.babel.js">Run code</a></p>
<h3 id="csvfilemixins">CSVFileMixins</h3><ul>
<li>Mixins for read/write/fetch CSV file. </li>
</ul>
<h3 id="pngfilemixins">PNGFileMixins</h3><ul>
<li>Mixins for read/write/fetch PNG file.</li>
</ul>
<h3 id="textfilemixins">TextFileMixins</h3><ul>
<li>Mixins for read/write/fetch Text file.</li>
</ul>
<h2 id="causal-net-utils">causal-net.utils</h2><p>This module provides:</p>
<h3 id="platform">platform</h3><ul>
<li>Enhanced isomorphic mixins with corresponding platform (node|web).</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { assert } from &apos;causal-net.utils&apos;;
assert.seemMatchSample([2,2,3], [1,2,3], &apos;validate sample&apos;);
assert.seemMatchSample(&apos;sample text&apos;, &apos;pattern text&apos;, &apos;validate sample&apos;);
assert.seemMatchSample( { &apos;text&apos; : &apos;pattern text 1&apos;, &apos;number&apos; : 1123 }, 
                        { &apos;text&apos; : &apos;pattern text&apos;, &apos;number&apos; : 1123 } , &apos;validate sample&apos;);
try{
    assert.seemMatchSample([&apos;2&apos;,2,3], [1,2,3], &apos;validate sample&apos;);
}
catch(err){
    //error due to mismatch schema
    console.log(err.message);
};
class A{};
let a = new A();
assert.beInstanceOf(a, A);
try{
    assert.beInstanceOf(&apos;1&apos;, A);
}
catch(err){
    console.log(err.message);
}
</code>
</code></pre>
<p><a href="./manual/./asset/examples/assert.babel.js">Run code</a></p>
<h3 id="fetch">fetch</h3><ul>
<li>isomorphic fetch.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import {fetch, Stream, PNGUtils} from &apos;causal-net.utils&apos;;
(async ()=&gt;{
    let link = &apos;https://avatars3.githubusercontent.com/u/43268620?s=200&amp;v=4&apos;;
    let content = await fetch.fetchData(link);
    console.log({&apos;content length&apos;: content.length});
});

</code>
</code></pre>
<p><a href="./manual/./asset/examples/fetch.babel.js">Run code</a></p>
<h3 id="png">PNG</h3><ul>
<li>isomorphic PNG parser.</li>
</ul>
<p>Web/Node:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { pngUtils } from &apos;causal-net.utils&apos;;
(async ()=&gt;{
    const link = &apos;https://avatars3.githubusercontent.com/u/43268620?s=200&amp;v=4&apos;;
    let fetchedData = await pngUtils.fetchPNG(link);
    console.log(fetchedData.length);
})();</code>
</code></pre>
<p><a href="./manual/./asset/examples/png.babel.js">Run code</a></p>
<p>Node:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { pngUtils } from &apos;causal-net.utils&apos;;
(async ()=&gt;{
    let data = await pngUtils.readPNG(&apos;../../datasets/icon.png&apos;);
    console.log(data.length);
    pngUtils.writePNG(data, [200, 200, 4], &apos;./out.png&apos;);
})();
</code>
</code></pre>
<p><a href="./manual/./asset/examples/png.babel.node.js">Run code</a></p>
<h3 id="csv">CSV</h3><ul>
<li>isomorphic CSV parser.</li>
</ul>
<p>Node:</p>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { csvUtils } from &apos;causal-net.utils&apos;;
(async ()=&gt;{
    let data = await csvUtils.readCSV(&apos;../../datasets/credict.csv&apos;);
    console.log(data);
})();
</code>
</code></pre>
<p><a href="./manual/./asset/examples/csv.babel.node.js">Run code</a></p>
<h3 id="stream">Stream</h3><ul>
<li>isomorphic Stream with Readable, Writeable, Duplex.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { stream } from &apos;causal-net.utils&apos;;

let reader = stream.makeReadable();

const TranformFn = (chunkData, chunkEncoding, afterTransformFn) =&gt;{
    chunkData.x = (chunkData.x+1.5);
    let event = null;
    afterTransformFn(event, chunkData);
};
let transformer = stream.makeTransform(TranformFn);

const WriteFn = (chunkData, chunkEncoding, callback) =&gt;{
    console.log({chunkData});
    callback();
};
let writer = stream.makeWritable(WriteFn);

reader.pipe(transformer).pipe(writer);
//write random int for every 100 ms    
setInterval(() =&gt; {
    reader.push({ x: Math.random() });
}, 100);
</code>
</code></pre>
<p><a href="./manual/./asset/examples/stream.babel.js">Run code</a></p>
<h3 id="assert">assert</h3><ul>
<li>Enhanced isomorphic assert with schema learnt from example.</li>
</ul>
<pre><code class="lang-javascript"><code class="source-code prettyprint">import { assert } from &apos;causal-net.utils&apos;;
assert.seemMatchSample([2,2,3], [1,2,3], &apos;validate sample&apos;);
assert.seemMatchSample(&apos;sample text&apos;, &apos;pattern text&apos;, &apos;validate sample&apos;);
assert.seemMatchSample( { &apos;text&apos; : &apos;pattern text 1&apos;, &apos;number&apos; : 1123 }, 
                        { &apos;text&apos; : &apos;pattern text&apos;, &apos;number&apos; : 1123 } , &apos;validate sample&apos;);
try{
    assert.seemMatchSample([&apos;2&apos;,2,3], [1,2,3], &apos;validate sample&apos;);
}
catch(err){
    //error due to mismatch schema
    console.log(err.message);
};
class A{};
let a = new A();
assert.beInstanceOf(a, A);
try{
    assert.beInstanceOf(&apos;1&apos;, A);
}
catch(err){
    console.log(err.message);
}
</code>
</code></pre>
<p><a href="./manual/./asset/examples/assert.babel.js">Run code</a></p>
</div>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
